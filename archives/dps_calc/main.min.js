function updateGearStatsText(){const e=["helm","cape","necklace","ammunition","weapon","body","shield","legs","hands","feet","ring"],t=["slash-atk-value","stab-atk-value","crush-atk-value","ranged-atk-value","magic-atk-value","melee-str-value","ranged-str-value","magic-str-value","slash-def-value","stab-def-value","crush-def-value","ranged-def-value","magic-def-value","prayer-value"];["slash_atk","stab_atk","crush_atk","ranged_atk","magic_atk","melee_str","ranged_str","magic_str","slash_def","stab_def","crush_def","ranged_def","magic_def","prayer"].forEach((a,s)=>{let n=0;e.forEach(e=>{n+=+globals[e][a]}),globals.player_bonuses[a]=n,n=(0>n?"":"+")+n,"magic_str"===a&&(n+="%"),document.getElementById(t[s]).innerHTML=n})}function check_for_set_effects(){const e={helm:globals.helm.name,cape:globals.cape.name,necklace:globals.necklace.name,ammunition:globals.ammunition.name,weapon:globals.weapon.name,body:globals.body.name,shield:globals.shield.name,legs:globals.legs.name,hands:globals.hands.name,feet:globals.feet.name,ring:globals.ring.name};let t=[];const a=Object.values(e);for(i in a)""!==a[i]&&t.push(a[i])}window.globals={attack_style:"melee",helm:{name:"",wiki_url:"",img_url:"",slash_atk:0,stab_atk:0,crush_atk:0,ranged_atk:0,magic_atk:0,melee_str:0,ranged_str:0,magic_str:0,slash_def:0,stab_def:0,crush_def:0,ranged_def:0,magic_def:0,prayer:0},cape:{name:"",wiki_url:"",img_url:"",slash_atk:0,stab_atk:0,crush_atk:0,ranged_atk:0,magic_atk:0,melee_str:0,ranged_str:0,magic_str:0,slash_def:0,stab_def:0,crush_def:0,ranged_def:0,magic_def:0,prayer:0},necklace:{name:"",wiki_url:"",img_url:"",slash_atk:0,stab_atk:0,crush_atk:0,ranged_atk:0,magic_atk:0,melee_str:0,ranged_str:0,magic_str:0,slash_def:0,stab_def:0,crush_def:0,ranged_def:0,magic_def:0,prayer:0},ammunition:{name:"",wiki_url:"",img_url:"",slash_atk:0,stab_atk:0,crush_atk:0,ranged_atk:0,magic_atk:0,melee_str:0,ranged_str:0,magic_str:0,slash_def:0,stab_def:0,crush_def:0,ranged_def:0,magic_def:0,prayer:0},weapon:{name:"",wiki_url:"",img_url:"",slash_atk:0,stab_atk:0,crush_atk:0,ranged_atk:0,magic_atk:0,melee_str:0,ranged_str:0,magic_str:0,slash_def:0,stab_def:0,crush_def:0,ranged_def:0,magic_def:0,prayer:0},body:{name:"",wiki_url:"",img_url:"",slash_atk:0,stab_atk:0,crush_atk:0,ranged_atk:0,magic_atk:0,melee_str:0,ranged_str:0,magic_str:0,slash_def:0,stab_def:0,crush_def:0,ranged_def:0,magic_def:0,prayer:0},shield:{name:"",wiki_url:"",img_url:"",slash_atk:0,stab_atk:0,crush_atk:0,ranged_atk:0,magic_atk:0,melee_str:0,ranged_str:0,magic_str:0,slash_def:0,stab_def:0,crush_def:0,ranged_def:0,magic_def:0,prayer:0},legs:{name:"",wiki_url:"",img_url:"",slash_atk:0,stab_atk:0,crush_atk:0,ranged_atk:0,magic_atk:0,melee_str:0,ranged_str:0,magic_str:0,slash_def:0,stab_def:0,crush_def:0,ranged_def:0,magic_def:0,prayer:0},hands:{name:"",wiki_url:"",img_url:"",slash_atk:0,stab_atk:0,crush_atk:0,ranged_atk:0,magic_atk:0,melee_str:0,ranged_str:0,magic_str:0,slash_def:0,stab_def:0,crush_def:0,ranged_def:0,magic_def:0,prayer:0},feet:{name:"",wiki_url:"",img_url:"",slash_atk:0,stab_atk:0,crush_atk:0,ranged_atk:0,magic_atk:0,melee_str:0,ranged_str:0,magic_str:0,slash_def:0,stab_def:0,crush_def:0,ranged_def:0,magic_def:0,prayer:0},ring:{name:"",wiki_url:"",img_url:"",slash_atk:0,stab_atk:0,crush_atk:0,ranged_atk:0,magic_atk:0,melee_str:0,ranged_str:0,magic_str:0,slash_def:0,stab_def:0,crush_def:0,ranged_def:0,magic_def:0,prayer:0},player_bonuses:{slash_atk:0,stab_atk:0,crush_atk:0,ranged_atk:0,magic_atk:0,melee_str:0,ranged_str:0,magic_str:0,slash_def:0,stab_def:0,crush_def:0,ranged_def:0,magic_def:0,prayer:0},player_effective_stats:{attack:1,strength:1,defense:1,ranged:1,magic:1,melee_attack_prayer:0,melee_strength_prayer:0,melee_style_bonus:0,melee_other:0,ranged_accuracy_prayer:0,ranged_strength_prayer:0,magic_prayer:0},opponent_bonuses_and_stats:{def_level:1,magic_level:1,slash_def:0,stab_def:0,crush_def:0,ranged_def:0,magic_def:0}};const select_combat_button=document.getElementById("combat-styles").children;for(let e=0;3>e;e++){const t=select_combat_button[e];t.addEventListener("click",function(){const e=t.getAttribute("value");globals.attack_style=e;const a=document.getElementsByClassName("select-style");for(let e=0;a.length>e;e++)a[e].classList.add("select-hidden");"melee"==e?(select_combat_button[0].children[0].classList.add("selected"),select_combat_button[1].children[0].classList.remove("selected"),select_combat_button[2].children[0].classList.remove("selected"),document.getElementsByClassName("select melee")[0].classList.remove("select-hidden")):"ranged"==e?(select_combat_button[0].children[0].classList.remove("selected"),select_combat_button[1].children[0].classList.add("selected"),select_combat_button[2].children[0].classList.remove("selected"),document.getElementsByClassName("select ranged")[0].classList.remove("select-hidden")):(select_combat_button[0].children[0].classList.remove("selected"),select_combat_button[1].children[0].classList.remove("selected"),select_combat_button[2].children[0].classList.add("selected"),document.getElementsByClassName("select magic")[0].classList.remove("select-hidden"))})}["helm","cape","necklace","ammunition","weapon","body","shield","legs","hands","feet","ring"].forEach(e=>{const t=document.getElementById(`select-${e}`);document.getElementById(`select-${e}-input`).value="";const a=document.getElementById(`select-${e}-datalist-container`),s=equipment[e],n=Object.keys(s);for(let e=0;n.length>e;e++){const a=document.createElement("option");a.value=n[e],t.appendChild(a)}if("weapon"==e){const e=Object.keys(equipment.two_hand);for(let a=0;n.length>a;a++){const s=document.createElement("option");s.value=e[a],t.appendChild(s)}}document.getElementById(`select-${e}-container`).addEventListener("click",function(){const e=document.getElementsByClassName("gear-label");for(let t=0;e.length>t;t++)e[t].classList.add("list-hidden");a.classList.remove("list-hidden"),a.getElementsByTagName("input")[0].focus()})});const input_selects=document.getElementsByClassName("input-select");for(let e=0;input_selects.length>e;e++){const t=input_selects[e];t.addEventListener("keyup",function(e){if("Enter"===e.code){const e=document.getElementsByClassName("gear-label");for(let t=0;e.length>t;t++)e[t].classList.add("list-hidden")}}),window.execute_change_event=!0,t.addEventListener("change",function(){const e=document.getElementsByClassName("gear-label"),a=t.value;for(let t=0;e.length>t;t++)e[t].classList.add("list-hidden");const s=t.getAttribute("name"),n=document.getElementById(`${s}-thumbnail`),l={slash_atk:0,stab_atk:0,crush_atk:0,ranged_atk:0,magic_atk:0,melee_str:0,ranged_str:0,magic_str:0,slash_def:0,stab_def:0,crush_def:0,ranged_def:0,magic_def:0,prayer:0},_=equipment[s][a]||equipment.two_hand[a]||l;let r,c,d;if(null==_||_===l?(r="none",wiki_src="",d="none",c="#"):(r="data:image/jpeg;base64, "+_.image_data,c=_.wiki_url,d=a,c=_.wiki_url),Object.keys(equipment.two_hand).includes(a)&&1==execute_change_event){const e=document.getElementById("select-shield-input");e.value="";let t=new CustomEvent("change");execute_change_event=!1,e.dispatchEvent(t)}execute_change_event=!0,n.setAttribute("src",r),["slash_atk","stab_atk","crush_atk","ranged_atk","magic_atk","melee_str","ranged_str","magic_str","slash_def","stab_def","crush_def","ranged_def","magic_def","prayer"].forEach(e=>{globals[s][e]=+_[e]||0}),globals[s].name=d,globals[s].wiki_url=c,globals[s].img_url=r,updateGearStatsText()}),t.addEventListener("input",function(e){if("insertReplacementText"===e.inputType){let e=new CustomEvent("change");t.dispatchEvent(e)}})}document.body.addEventListener("mousedown",function(e){let t=!0;if((e.target.classList.contains("input-select")||e.target.classList.contains("gear-image-container"))&&(t=!1),t){const e=document.getElementsByClassName("gear-label");for(let t=0;e.length>t;t++)e[t].classList.add("list-hidden")}}),document.getElementById("display-name").addEventListener("keydown",e=>{"Enter"==e.key&&fetch_stats()});const set={items:["Diamond bolts (e)"],attack_style:"ranged",dps_function:function(){}},weapon_types=["bow","spear","2h_sword","scythe","claw","polearm","unarmed","blunt","axe","crossbow","spiked","gun","staff","polestaff","salamander","slash_sword","thrown","bludgeon","bulwark","stab_sword","powered_staff","banner","pickaxe","whip","chinchompas","bladed_staff"],monster_select_datalist=document.getElementById("monster-select-datalist"),monster_names=Object.keys(monsters);monster_names.forEach(e=>{const t=document.createElement("option");t.value=e,t.innerHTML=e,monster_select_datalist.appendChild(t)}),document.getElementById("select-magic-spell").value="wind-strike";